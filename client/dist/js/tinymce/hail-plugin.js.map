{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./client/src/js/tinymce/hail-plugin.js"],"names":["window","tinymce","PluginManager","add","editor","ui","registry","addIcon","addButton","type","icon","onAction","jQuery","ajax","url","contentType","success","windowManager","open","title","body","items","name","response","label","buttons","text","buttonType","initialData","onSubmit","api","data","getData","link","document","createElement","href","anchor","setAttribute","innerText","description","activeEditor","execCommand","outerHTML","close","alert","getMetadata"],"mappings":"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","file":"client/dist/js/tinymce/hail-plugin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","window.tinymce.PluginManager.add('sshail', function (editor) {\n    // Register the 'hail' icon\n    editor.ui.registry.addIcon('hail', '<svg height=\"23\" width=\"28\"><image href=\"data:image/png;base64,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\" height=\"23\" width=\"28\" /></svg>');\n\n    // Add a button that opens a window\n    editor.ui.registry.addButton('sshail', {\n        type: 'button',\n        icon: 'hail',\n        onAction: () => {\n            jQuery.ajax({\n                url: '/hail/articles',\n                type: 'GET',\n                contentType: 'application/json',\n                success: response => {\n                    editor.windowManager.open({\n                        title: 'Add Hail Article Link',\n                        body: {\n                            type: 'panel',\n                            items: [\n                                {\n                                    type: 'listbox',\n                                    name: 'link',\n                                    items: response\n                                },\n                                {\n                                    type: 'input',\n                                    name: 'title',\n                                    label: 'Link text'\n                                },\n                                {\n                                    type: 'input',\n                                    name: 'description',\n                                    label: 'Link description'\n                                },\n                                {\n                                    type: 'input',\n                                    name: 'anchor',\n                                    label: 'Anchor'\n                                },\n                                {\n                                    type: 'checkbox',\n                                    name: 'open',\n                                    label: 'Open in new window/tab'\n                                }\n                            ]\n                        },\n                        buttons: [\n                            {\n                                type: 'cancel',\n                                name: 'closeButton',\n                                text: 'Cancel'\n                            },\n                            {\n                                type: 'submit',\n                                name: 'submitButton',\n                                text: 'Add Link',\n                                buttonType: 'primary'\n                            }\n                        ],\n                        initialData: {\n                            open: false\n                        },\n                        onSubmit: (api) => {\n                            const data = api.getData();\n                            if (data.link !== '' && data.title !== '') {\n                                const link = document.createElement('a');\n                                let href = data.link;\n                                href += data.anchor ? `#${data.anchor}` : '';\n                                link.setAttribute('href', href);\n                                link.innerText = data.title;\n\n                                if (data.open) {\n                                    link.setAttribute('target', '_blank');\n                                }\n\n                                if (data.description) {\n                                    link.setAttribute('title', data.description);\n                                }\n\n                                tinymce.activeEditor.execCommand('InsertHTML', false, link.outerHTML);\n                                api.close();\n\n                                return;\n                            }\n\n                            tinymce.activeEditor.windowManager.alert('Please select an article and enter a title');\n                        }\n                    });\n                }\n            });\n        }\n    });\n\n    return {\n        getMetadata: function () {\n            return {\n                name: \"Hail Plugin for SilverStripe 4\",\n                url: \"https://github.com/firebrandhq/silverstripe-hail\"\n            };\n        }\n    };\n});\n"],"sourceRoot":""}